<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Upload storage | V4 Admin</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/logo.svg">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/logo.svg">
    <link rel="mask-icon" href="/logo.svg" color="#3eaf7c">
    <meta name="description" content="Chevereto V4 Admin Manual">
    <meta property="og:site_name" content="V4 Admin">
    <meta property="og:title" content="Upload storage">
    <meta property="og:type" content="website">
    <meta property="og:url" content="/features/upload-storage.html">
    <meta name="twitter:title" content="Upload storage">
    <meta name="twitter:url" content="/features/upload-storage.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="theme-color" content="#23a8e0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/logo.svg">
    <meta name="msapplication-TileColor" content="#000000">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="preload" href="/assets/css/0.styles.bcdb329e.css" as="style"><link rel="preload" href="/assets/js/app.8c92776e.js" as="script"><link rel="preload" href="/assets/js/2.2e795948.js" as="script"><link rel="preload" href="/assets/js/1.92b2004f.js" as="script"><link rel="preload" href="/assets/js/31.d5e54086.js" as="script"><link rel="prefetch" href="/assets/js/10.9367db1f.js"><link rel="prefetch" href="/assets/js/11.de003c14.js"><link rel="prefetch" href="/assets/js/12.d610f66c.js"><link rel="prefetch" href="/assets/js/13.d6ee1c40.js"><link rel="prefetch" href="/assets/js/14.9894935c.js"><link rel="prefetch" href="/assets/js/15.a8558ca1.js"><link rel="prefetch" href="/assets/js/16.f599e15e.js"><link rel="prefetch" href="/assets/js/17.8dd8ef3c.js"><link rel="prefetch" href="/assets/js/18.e459599a.js"><link rel="prefetch" href="/assets/js/19.d6a6f12a.js"><link rel="prefetch" href="/assets/js/20.7430095b.js"><link rel="prefetch" href="/assets/js/21.fc63aa48.js"><link rel="prefetch" href="/assets/js/22.148f91b7.js"><link rel="prefetch" href="/assets/js/23.a9bb796e.js"><link rel="prefetch" href="/assets/js/24.9029fc83.js"><link rel="prefetch" href="/assets/js/25.d09ed19f.js"><link rel="prefetch" href="/assets/js/26.344dabc5.js"><link rel="prefetch" href="/assets/js/27.bf3ea66b.js"><link rel="prefetch" href="/assets/js/28.5707725b.js"><link rel="prefetch" href="/assets/js/29.35818492.js"><link rel="prefetch" href="/assets/js/3.8e2e7b4a.js"><link rel="prefetch" href="/assets/js/30.abaf91a4.js"><link rel="prefetch" href="/assets/js/32.48726c8e.js"><link rel="prefetch" href="/assets/js/33.bc081b9d.js"><link rel="prefetch" href="/assets/js/34.bf522987.js"><link rel="prefetch" href="/assets/js/35.1d41c40a.js"><link rel="prefetch" href="/assets/js/36.f95c7262.js"><link rel="prefetch" href="/assets/js/37.feba0e58.js"><link rel="prefetch" href="/assets/js/38.ccad916e.js"><link rel="prefetch" href="/assets/js/39.cae2dcf3.js"><link rel="prefetch" href="/assets/js/4.70d5a8e2.js"><link rel="prefetch" href="/assets/js/40.e1a06b03.js"><link rel="prefetch" href="/assets/js/41.3017f12f.js"><link rel="prefetch" href="/assets/js/42.480ee497.js"><link rel="prefetch" href="/assets/js/43.7cbc7829.js"><link rel="prefetch" href="/assets/js/44.053e3752.js"><link rel="prefetch" href="/assets/js/45.d62f31ec.js"><link rel="prefetch" href="/assets/js/46.46e284a1.js"><link rel="prefetch" href="/assets/js/47.629c8417.js"><link rel="prefetch" href="/assets/js/48.63949acf.js"><link rel="prefetch" href="/assets/js/49.b0f3bfab.js"><link rel="prefetch" href="/assets/js/5.85757ca3.js"><link rel="prefetch" href="/assets/js/50.a3cffc5e.js"><link rel="prefetch" href="/assets/js/51.8e0a8723.js"><link rel="prefetch" href="/assets/js/52.0c5157d6.js"><link rel="prefetch" href="/assets/js/53.333d81aa.js"><link rel="prefetch" href="/assets/js/54.522af6af.js"><link rel="prefetch" href="/assets/js/55.f6c7bdad.js"><link rel="prefetch" href="/assets/js/56.ac1fc486.js"><link rel="prefetch" href="/assets/js/57.6e0dfc28.js"><link rel="prefetch" href="/assets/js/58.274abc06.js"><link rel="prefetch" href="/assets/js/59.6345482c.js"><link rel="prefetch" href="/assets/js/6.583452d9.js"><link rel="prefetch" href="/assets/js/7.b0b5044e.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.89026c5a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.bcdb329e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.svg" alt="V4 Admin" class="logo"> <span class="site-name can-hide">V4 Admin</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/account/" class="nav-link">
  Account
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Dashboard Menu" class="dropdown-title"><span class="title">Dashboard</span> <span class="arrow down"></span></button> <button type="button" aria-label="Dashboard Menu" class="mobile-dropdown-title"><span class="title">Dashboard</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dashboard/stats.html" class="nav-link">
  Stats
</a></li><li class="dropdown-item"><!----> <a href="/dashboard/images.html" class="nav-link">
  Images
</a></li><li class="dropdown-item"><!----> <a href="/dashboard/albums.html" class="nav-link">
  Albums
</a></li><li class="dropdown-item"><!----> <a href="/dashboard/users.html" class="nav-link">
  Users
</a></li><li class="dropdown-item"><!----> <a href="/dashboard/bulk-importer.html" class="nav-link">
  Bulk importer
</a></li><li class="dropdown-item"><!----> <a href="/dashboard/settings.html" class="nav-link">
  Settings
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Settings Menu" class="dropdown-title"><span class="title">Settings</span> <span class="arrow down"></span></button> <button type="button" aria-label="Settings Menu" class="mobile-dropdown-title"><span class="title">Settings</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/settings/website.html" class="nav-link">
  Website
</a></li><li class="dropdown-item"><!----> <a href="/settings/content.html" class="nav-link">
  Content
</a></li><li class="dropdown-item"><!----> <a href="/settings/listings.html" class="nav-link">
  Listings
</a></li><li class="dropdown-item"><!----> <a href="/settings/semantics.html" class="nav-link">
  Semantics
</a></li><li class="dropdown-item"><!----> <a href="/settings/categories.html" class="nav-link">
  Categories
</a></li><li class="dropdown-item"><!----> <a href="/settings/theme.html" class="nav-link">
  Theme
</a></li><li class="dropdown-item"><!----> <a href="/settings/system.html" class="nav-link">
  System
</a></li><li class="dropdown-item"><!----> <a href="/settings/languages.html" class="nav-link">
  Languages
</a></li><li class="dropdown-item"><!----> <a href="/settings/email.html" class="nav-link">
  Email
</a></li><li class="dropdown-item"><!----> <a href="/settings/tools.html" class="nav-link">
  Tools
</a></li><li class="dropdown-item"><!----> <a href="/settings/logo.html" class="nav-link">
  Logo
</a></li><li class="dropdown-item"><!----> <a href="/settings/external-services.html" class="nav-link">
  External services
</a></li><li class="dropdown-item"><!----> <a href="/settings/homepage.html" class="nav-link">
  Homepage
</a></li><li class="dropdown-item"><!----> <a href="/settings/pages.html" class="nav-link">
  Pages
</a></li><li class="dropdown-item"><!----> <a href="/settings/routing.html" class="nav-link">
  Routing
</a></li><li class="dropdown-item"><!----> <a href="/settings/upload-storage.html" class="nav-link">
  Upload storage
</a></li><li class="dropdown-item"><!----> <a href="/settings/login-providers.html" class="nav-link">
  Login providers
</a></li><li class="dropdown-item"><!----> <a href="/settings/upload-plugin.html" class="nav-link">
  Upload plugin
</a></li><li class="dropdown-item"><!----> <a href="/settings/cookie-compliance.html" class="nav-link">
  Cookie compliance
</a></li><li class="dropdown-item"><!----> <a href="/settings/consent-screen.html" class="nav-link">
  Consent screen
</a></li><li class="dropdown-item"><!----> <a href="/settings/flood-protection.html" class="nav-link">
  Flood protection
</a></li><li class="dropdown-item"><!----> <a href="/settings/banners.html" class="nav-link">
  Banners
</a></li><li class="dropdown-item"><!----> <a href="/settings/ip-bans.html" class="nav-link">
  IP Bans
</a></li><li class="dropdown-item"><!----> <a href="/settings/users.html" class="nav-link">
  Users
</a></li><li class="dropdown-item"><!----> <a href="/settings/guest-api.html" class="nav-link">
  Guest API
</a></li><li class="dropdown-item"><!----> <a href="/settings/watermarks.html" class="nav-link">
  Watermarks
</a></li><li class="dropdown-item"><!----> <a href="/settings/file-uploads.html" class="nav-link">
  File uploads
</a></li><li class="dropdown-item"><!----> <a href="/settings/site-storage.html" class="nav-link">
  Site storage
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Features Menu" class="dropdown-title"><span class="title">Features</span> <span class="arrow down"></span></button> <button type="button" aria-label="Features Menu" class="mobile-dropdown-title"><span class="title">Features</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/features/upload-storage.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Upload storage
</a></li><li class="dropdown-item"><!----> <a href="/features/login-providers.html" class="nav-link">
  Login providers
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/account/" class="nav-link">
  Account
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Dashboard Menu" class="dropdown-title"><span class="title">Dashboard</span> <span class="arrow down"></span></button> <button type="button" aria-label="Dashboard Menu" class="mobile-dropdown-title"><span class="title">Dashboard</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dashboard/stats.html" class="nav-link">
  Stats
</a></li><li class="dropdown-item"><!----> <a href="/dashboard/images.html" class="nav-link">
  Images
</a></li><li class="dropdown-item"><!----> <a href="/dashboard/albums.html" class="nav-link">
  Albums
</a></li><li class="dropdown-item"><!----> <a href="/dashboard/users.html" class="nav-link">
  Users
</a></li><li class="dropdown-item"><!----> <a href="/dashboard/bulk-importer.html" class="nav-link">
  Bulk importer
</a></li><li class="dropdown-item"><!----> <a href="/dashboard/settings.html" class="nav-link">
  Settings
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Settings Menu" class="dropdown-title"><span class="title">Settings</span> <span class="arrow down"></span></button> <button type="button" aria-label="Settings Menu" class="mobile-dropdown-title"><span class="title">Settings</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/settings/website.html" class="nav-link">
  Website
</a></li><li class="dropdown-item"><!----> <a href="/settings/content.html" class="nav-link">
  Content
</a></li><li class="dropdown-item"><!----> <a href="/settings/listings.html" class="nav-link">
  Listings
</a></li><li class="dropdown-item"><!----> <a href="/settings/semantics.html" class="nav-link">
  Semantics
</a></li><li class="dropdown-item"><!----> <a href="/settings/categories.html" class="nav-link">
  Categories
</a></li><li class="dropdown-item"><!----> <a href="/settings/theme.html" class="nav-link">
  Theme
</a></li><li class="dropdown-item"><!----> <a href="/settings/system.html" class="nav-link">
  System
</a></li><li class="dropdown-item"><!----> <a href="/settings/languages.html" class="nav-link">
  Languages
</a></li><li class="dropdown-item"><!----> <a href="/settings/email.html" class="nav-link">
  Email
</a></li><li class="dropdown-item"><!----> <a href="/settings/tools.html" class="nav-link">
  Tools
</a></li><li class="dropdown-item"><!----> <a href="/settings/logo.html" class="nav-link">
  Logo
</a></li><li class="dropdown-item"><!----> <a href="/settings/external-services.html" class="nav-link">
  External services
</a></li><li class="dropdown-item"><!----> <a href="/settings/homepage.html" class="nav-link">
  Homepage
</a></li><li class="dropdown-item"><!----> <a href="/settings/pages.html" class="nav-link">
  Pages
</a></li><li class="dropdown-item"><!----> <a href="/settings/routing.html" class="nav-link">
  Routing
</a></li><li class="dropdown-item"><!----> <a href="/settings/upload-storage.html" class="nav-link">
  Upload storage
</a></li><li class="dropdown-item"><!----> <a href="/settings/login-providers.html" class="nav-link">
  Login providers
</a></li><li class="dropdown-item"><!----> <a href="/settings/upload-plugin.html" class="nav-link">
  Upload plugin
</a></li><li class="dropdown-item"><!----> <a href="/settings/cookie-compliance.html" class="nav-link">
  Cookie compliance
</a></li><li class="dropdown-item"><!----> <a href="/settings/consent-screen.html" class="nav-link">
  Consent screen
</a></li><li class="dropdown-item"><!----> <a href="/settings/flood-protection.html" class="nav-link">
  Flood protection
</a></li><li class="dropdown-item"><!----> <a href="/settings/banners.html" class="nav-link">
  Banners
</a></li><li class="dropdown-item"><!----> <a href="/settings/ip-bans.html" class="nav-link">
  IP Bans
</a></li><li class="dropdown-item"><!----> <a href="/settings/users.html" class="nav-link">
  Users
</a></li><li class="dropdown-item"><!----> <a href="/settings/guest-api.html" class="nav-link">
  Guest API
</a></li><li class="dropdown-item"><!----> <a href="/settings/watermarks.html" class="nav-link">
  Watermarks
</a></li><li class="dropdown-item"><!----> <a href="/settings/file-uploads.html" class="nav-link">
  File uploads
</a></li><li class="dropdown-item"><!----> <a href="/settings/site-storage.html" class="nav-link">
  Site storage
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Features Menu" class="dropdown-title"><span class="title">Features</span> <span class="arrow down"></span></button> <button type="button" aria-label="Features Menu" class="mobile-dropdown-title"><span class="title">Features</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/features/upload-storage.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Upload storage
</a></li><li class="dropdown-item"><!----> <a href="/features/login-providers.html" class="nav-link">
  Login providers
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Upload storage</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/features/upload-storage.html#how-it-works" class="sidebar-link">How it works?</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/features/upload-storage.html#storage-url" class="sidebar-link">Storage URL</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/features/upload-storage.html#storage-url-with-cdn" class="sidebar-link">Storage URL with CDN</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/features/upload-storage.html#lifecycle-settings" class="sidebar-link">Lifecycle settings</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/features/upload-storage.html#providers" class="sidebar-link">Providers</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/features/upload-storage.html#alibaba-cloud-oss" class="sidebar-link">Alibaba Cloud OSS</a></li><li class="sidebar-sub-header"><a href="/features/upload-storage.html#amazon-s3" class="sidebar-link">Amazon S3</a></li><li class="sidebar-sub-header"><a href="/features/upload-storage.html#backblaze-b2" class="sidebar-link">Backblaze B2</a></li><li class="sidebar-sub-header"><a href="/features/upload-storage.html#ftp" class="sidebar-link">FTP</a></li><li class="sidebar-sub-header"><a href="/features/upload-storage.html#google-cloud" class="sidebar-link">Google Cloud</a></li><li class="sidebar-sub-header"><a href="/features/upload-storage.html#local" class="sidebar-link">Local</a></li><li class="sidebar-sub-header"><a href="/features/upload-storage.html#microsoft-azure" class="sidebar-link">Microsoft Azure</a></li><li class="sidebar-sub-header"><a href="/features/upload-storage.html#openstack" class="sidebar-link">OpenStack</a></li><li class="sidebar-sub-header"><a href="/features/upload-storage.html#s3-compatible" class="sidebar-link">S3 Compatible</a></li><li class="sidebar-sub-header"><a href="/features/upload-storage.html#sftp" class="sidebar-link">SFTP</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="upload-storage"><a href="#upload-storage" class="header-anchor">#</a> Upload storage</h1> <p>Upload storage allows to use more endpoints for storing user uploads, which helps to leverage your server load and deliver a more reliable website. If you use multiple upload storage servers, it will help to distribute the traffic of these assets.</p> <div class="custom-block tip"><p class="custom-block-title">💡 Asset storage</p> <p>Check the documentation on <a href="https://v4-docs.chevereto.com/application/configuration/environment.html#assets-variables" target="_blank" rel="noopener noreferrer">Asset variables<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> if you want to control where to store the website assets (backgrounds, avatars, etc.)</p></div> <h2 id="how-it-works"><a href="#how-it-works" class="header-anchor">#</a> How it works?</h2> <p>Upload storage works by adding upload storage server(s) where file uploads will be stored. These upload storage servers expose those files using HTTP, enabling users and visitors of your Chevereto installation to access these images directly.</p> <h2 id="storage-url"><a href="#storage-url" class="header-anchor">#</a> Storage URL</h2> <p>💡 The storage server must provide the URL for public-read file access. Check the documentation of your service provider.</p> <p>Chevereto maps upload storage uploads to the corresponding upload storage server using the given Storage URL as a base URL to locate that file in the upload storage.</p> <p>Using Amazon S3 with direct storage:</p> <table><thead><tr><th>Property</th> <th>Value</th></tr></thead> <tbody><tr><td>Bucket</td> <td>my-bucket</td></tr> <tr><td>Storage URL</td> <td>https://s3.amazonaws.com/my-bucket/</td></tr> <tr><td>Stored image</td> <td>my-bucket/image.jpg</td></tr> <tr><td>Mapped URL</td> <td>https://s3.amazonaws.com/my-bucket/image.jpg</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">CNAME</p> <p>Is recommended that you use URLs that match your domain so try to take advantage of using a <a href="https://en.wikipedia.org/wiki/CNAME_record" target="_blank" rel="noopener noreferrer">CNAME record<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p></div> <p>Amazon S3 with folder-based storage and custom CNAME (<code>img.domain.com</code>):</p> <table><thead><tr><th>Property</th> <th>Value</th></tr></thead> <tbody><tr><td>Bucket</td> <td>my-bucket</td></tr> <tr><td>Storage URL</td> <td>https://img.domain.com/my-bucket/</td></tr> <tr><td>Stored image</td> <td>/my-bucket/2020/10/06/image.jpg</td></tr> <tr><td>Mapped URL</td> <td>https://img.domain.com/my-bucket/2020/10/06/image.jpg</td></tr></tbody></table> <h2 id="storage-url-with-cdn"><a href="#storage-url-with-cdn" class="header-anchor">#</a> Storage URL with CDN</h2> <p>Add a CDN for each storage URL you want to use. At your CDN provider create a pull zone for the origin storage URL.</p> <p>If you are using Amazon S3, the source (origin) URL will be something like this:</p> <div class="language-sh extra-class"><pre class="language-sh"><code>https://s3.amazonaws.com/my-bucket/
</code></pre></div><p>The CDN URL provided by your CDN service will be something like this:</p> <div class="language-sh extra-class"><pre class="language-sh"><code>https://pullzone-url.at.cdn-service.com/
</code></pre></div><p>Adding a CNAME record for the above URL will allow you to end up with a Storage URL like this:</p> <div class="language-sh extra-class"><pre class="language-sh"><code>https://s3-cdn.domain.com/
</code></pre></div><h2 id="lifecycle-settings"><a href="#lifecycle-settings" class="header-anchor">#</a> Lifecycle settings</h2> <div class="custom-block danger"><p class="custom-block-title">DANGER</p> <p>Providers of cloud storage may use a feature called &quot;lifecycle&quot; for the files stored there. Make sure to edit the storage provider configuration to don't use this feature.</p></div> <p>When enabled, the storage provider will keep copies of all the states of the files (modified, deleted, etc.) which may seriously increase your storage costs. We highly recommend to always disable this kind of settings, when asked select to <strong>keep only the last version of the file</strong>.</p> <h2 id="providers"><a href="#providers" class="header-anchor">#</a> Providers</h2> <h3 id="alibaba-cloud-oss"><a href="#alibaba-cloud-oss" class="header-anchor">#</a> Alibaba Cloud OSS</h3> <p>The Alibaba Cloud OSS API allows to upload images to <a href="https://www.alibabacloud.com/product/oss/" target="_blank" rel="noopener noreferrer">Alibaba Cloud (Aliyun) Object Storage System (OSS)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <h3 id="amazon-s3"><a href="#amazon-s3" class="header-anchor">#</a> Amazon S3</h3> <p>The Amazon S3 API allows to upload images to an <a href="https://en.wikipedia.org/wiki/Amazon_S3" target="_blank" rel="noopener noreferrer">Amazon S3<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> bucket. You will need an <a href="https://aws.amazon.com/" target="_blank" rel="noopener noreferrer">Amazon Web Services<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (AWS) account for this.</p> <p>To setup Amazon S3:</p> <ul><li>Create access credentials from <a href="https://console.aws.amazon.com/iam/home?#users" target="_blank" rel="noopener noreferrer">Identity and Access Management<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> console
<ul><li>Click on <strong>Create users</strong> and create a new user</li> <li>On permissions, click on <strong>Add permissions</strong> and select <strong>Attach policies directly</strong> and associate <strong>AmazonS3FullAccess</strong></li> <li>Click on <strong>Create access key</strong> and proceed to create the access key for <strong>Third-party service</strong></li> <li>Store the <strong>user name</strong>, <strong>Access Key</strong> and <strong>Secret access key</strong> at the end of the process</li></ul></li> <li>Create a bucket from the <a href="https://console.aws.amazon.com/s3" target="_blank" rel="noopener noreferrer">S3 console<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <ul><li>Click on <strong>Create bucket</strong> and select <strong>AWS Region</strong> and <strong>Bucket name</strong> (store these)</li> <li>On Object Ownership, make sure to select <strong>ACLs enabled</strong> and select <strong>Bucket owner preferred</strong> for the access control list</li> <li>On Block Public Access make sure to leave <em>unchecked</em> <strong>Block all public access</strong> and make sure objects have public access</li> <li>On Bucket Versioning, make sure to <em>disable</em> <strong>Bucket Versioning</strong></li></ul></li></ul> <p>If you want to use a custom domain follow the <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/VirtualHosting.html#VirtualHostingCustomURLs" target="_blank" rel="noopener noreferrer">CNAME<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> documentation. Otherwise just make sure that the <a href="#storage-url">Storage URL</a> ends with <code>/&lt;your_bucket_name&gt;/</code></p> <h3 id="backblaze-b2"><a href="#backblaze-b2" class="header-anchor">#</a> Backblaze B2</h3> <p>The Backblaze B2 API allows to upload images to <a href="https://www.backblaze.com/b2/cloud-storage.html" target="_blank" rel="noopener noreferrer">Backblaze's cloud storage system<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <ol><li>Go to <strong>B2 Cloud Storage</strong> and click on <strong>Create a Bucket</strong></li> <li>Files in Bucket are: <strong>Public</strong></li> <li>Go to <strong>App Keys</strong> and click on <strong>Add a New Application Key</strong> <ol><li>Type of Access: <strong>Read and Write</strong></li></ol></li> <li>When done, use the following reference:</li></ol> <p>Select <strong>S3 Compatible</strong> storage API for <strong>B2 S3 Storage</strong> (current offering):</p> <table><thead><tr><th>B2 Value</th> <th>Chevereto Storage</th></tr></thead> <tbody><tr><td>Region</td> <td><code>us-west-002</code> (take note from your Endpoint)</td></tr> <tr><td>keyID</td> <td>Storage key</td></tr> <tr><td>applicationKey</td> <td>Storage secret</td></tr> <tr><td>Endpoint*</td> <td>https://s3.us-west-002.backblazeb2.com</td></tr> <tr><td>URL</td> <td>https://f002.backblazeb2.com/file/your_bucket/</td></tr></tbody></table> <blockquote><p>(*) You will find the endpoint under the bucket details.</p></blockquote> <p>Select <strong>Backblaze B2</strong> storage API for legacy <strong>B2 Storage</strong>:</p> <table><thead><tr><th>B2 Value</th> <th>Chevereto Storage</th></tr></thead> <tbody><tr><td>keyID</td> <td>Storage key (Account ID)</td></tr> <tr><td>applicationKey</td> <td>Storage secret (Master Application Key)</td></tr></tbody></table> <h3 id="ftp"><a href="#ftp" class="header-anchor">#</a> FTP</h3> <p>The FTP API allows to upload images to a server implementing the <a href="https://en.wikipedia.org/wiki/File_Transfer_Protocol" target="_blank" rel="noopener noreferrer">File Transfer Protocol<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <h3 id="google-cloud"><a href="#google-cloud" class="header-anchor">#</a> Google Cloud</h3> <p>The Google Cloud API allows to upload images to a Google Cloud Storage bucket. You will need a <a href="https://cloud.google.com/" target="_blank" rel="noopener noreferrer">Google Cloud<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> service account and <a href="https://cloud.google.com/storage/docs/signup" target="_blank" rel="noopener noreferrer">activate cloud storage<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for this.</p> <p>To setup Google Cloud Storage:</p> <ul><li>Create a project</li> <li>Go to <strong>APIs &amp; services</strong> dashboard and make sure that <strong>Google Cloud Storage JSON API</strong> is enabled.
<ul><li>If is not enabled click on <strong>Enable API and Services</strong> and enable Google Cloud Storage JSON API</li></ul></li> <li>Go to <strong>Cloud Storage</strong> then click on <strong>Browser</strong></li> <li>Create a bucket by clicking <strong>Create bucket</strong> button. Make sure to:
<ul><li>Prevent public access: Unselect <strong>Enforce public access prevention on this bucket</strong> as you want public access for the bucket</li> <li>Access control: Fine-grained</li></ul></li> <li>Go to <strong>Credentials</strong> under APIs &amp; services, click on <strong>Create credentials</strong> then click on <strong>Service account</strong>. Make sure to use the following settings:
<ul><li>Grant access: Role owner</li> <li>Key type: JSON</li></ul></li> <li>When done, go to your newly created service account under <strong>Service Accounts</strong></li> <li>Go yo <strong>keys</strong> and create a new <strong>JSON key</strong></li> <li>Your browser will start to download the JSON key file, the contents of the file is what you need to paste on Chevereto's <strong>Secret Key</strong> textarea</li></ul> <h3 id="local"><a href="#local" class="header-anchor">#</a> Local</h3> <p>The <a href="/settings/upload-storage.html#local">Local API</a> allows to upload images to any filesystem path in the server.</p> <h3 id="microsoft-azure"><a href="#microsoft-azure" class="header-anchor">#</a> Microsoft Azure</h3> <p>The Microsoft Azure API allows to upload images to <a href="https://azure.microsoft.com/services/storage/" target="_blank" rel="noopener noreferrer">Microsoft Azure Storage<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <h3 id="openstack"><a href="#openstack" class="header-anchor">#</a> OpenStack</h3> <p>The <a href="/settings/upload-storage.html#openstack">OpenStack API</a> allows to upload images to an <a href="https://en.wikipedia.org/wiki/OpenStack" target="_blank" rel="noopener noreferrer">OpenStack<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> container.</p> <ul><li>OpenStack configuration for RunAbove:
<ul><li>Identity URL: <a href="https://auth.Runabove.io/v2.0" target="_blank" rel="noopener noreferrer">https://auth.Runabove.io/v2.0<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Username: Your RunAbove username</li> <li>Password: Your RunAbove password</li> <li>Region: <code>SBG-1</code> or <code>BHS-1</code> This is the data center where your container was created</li> <li>Container: Name of your created container</li> <li>Tenant id: Leave it blank</li> <li>Tenant name: Your <code>project id</code>, found on OpenStack Horizon on the left side (CURRENT PROJECT))</li> <li>URL: Your URL to access the container (see <a href="https://community.runabove.com/kb/en/object-storage/how-to-put-object-storage-behind-your-domain-name.html" target="_blank" rel="noopener noreferrer">RunAbove CNAME<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>)</li></ul></li></ul> <h3 id="s3-compatible"><a href="#s3-compatible" class="header-anchor">#</a> S3 Compatible</h3> <p>The S3 Compatible API allows to upload images to any server implementing the Amazon S3 standard, also known as &quot;AWS S3 API&quot;. The configuration is exactly the same as Amazon S3, but it requires to provide the provider endpoint.</p> <p>Some providers supporting S3 API are:</p> <ul><li>Backblaze B2 (via S3-compatible API)</li> <li>Cloudflare R2</li> <li>DigitalOcean Spaces</li> <li>DreamHost DreamObjects</li> <li>Hetzner Object Storage</li> <li>IBM COS S3</li> <li>IDrive® e2</li> <li>Linode Object Storage (now Akamai)</li> <li>OVH Cloud Object Storage</li> <li>PhoenixNAP Object Storage</li> <li>Scaleway Object Storage</li> <li>Storj</li> <li>Tencent Cloud Object Storage (COS)</li> <li>Vultr Object Storage (use region <code>us-east-1</code>)</li> <li>Wasabi</li></ul> <p>Self-hosted S3-compatible solutions:</p> <ul><li>MinIO</li> <li>Ceph (RGW)</li> <li>SeaweedFS (S3 Gateway)</li> <li>Zenko (by Scality)</li> <li>LeoFS (S3 support in gateway mode)</li> <li>Garage (Deuxfleurs)</li></ul> <h3 id="sftp"><a href="#sftp" class="header-anchor">#</a> SFTP</h3> <p>The SFTP API allows to upload images to a server implementing the <a href="https://en.wikipedia.org/wiki/SSH_File_Transfer_Protocol" target="_blank" rel="noopener noreferrer">SSH File Transfer Protocol<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/chevereto/v4-admin/edit/main/features/upload-storage.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.8c92776e.js" defer></script><script src="/assets/js/2.2e795948.js" defer></script><script src="/assets/js/1.92b2004f.js" defer></script><script src="/assets/js/31.d5e54086.js" defer></script>
  </body>
</html>
